<div class="<%= dom_id article %>_subscribe_button" >
  <% if current_user.blank? %>
    <%= link_to t('subscribe'), view_modals_path(type: :login, return_to: article_url(article.uuid)), data: { turbo_method: :post }, class: "block w-full cursor-pointer rounded text-primary text-center py-1 px-4" %>
  <% elsif current_user.commenting_subscribe_article? article %>
    <div class="w-full bg-transparent text-center py-1">
      <%= button_to t('unsubscribe'), 
        subscribe_article_path(article.uuid), 
        form: {
          data: { 
            controller: "confirm",
            confirm_target: "form",
            confirm_identifier_value: SecureRandom.uuid,
            confirm_content_value: t("confirm_to_unsubscribe") 
          }
        },
        method: :delete,
        data: { 
          action: "confirm#invoke"
        }, 
        class: "bg-transparent cursor-pointer opacity-50" %>
    </div>
  <% else %>
    <%= button_to t('subscribe'), 
      subscribe_articles_path(uuid: article.uuid), 
      class: "block w-full cursor-pointer text-primary hover:scale-105 rounded text-center py-1 px-4" %>
  <% end %>
</div>
